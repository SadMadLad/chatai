<%= link_to 'Add new user', [:new, :admin, :user] %>
<hr />

<table class="table-auto text-sm">
  <thead class="bg-gray-100">
    <tr>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Username</th>
      <th>Role</th>
      <th>Created At</th>
      <th>Updated At</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @accounts.each do |account| %>
      <tr class="border-b">
        <td><%= account.first_name %></td>
        <td><%= account.last_name %></td>
        <td><%= account.username %></td>
        <td><%= account.role %></td>
        <td><%= account.created_at %></td>
        <td><%= account.updated_at %></td>
        <td>
          <% if (current_account.superadmin? && account.can_moderate?) || account.user? %>
            <%= link_to 'Show', [:admin, account] %>
            <%= link_to 'Edit', [:edit, :admin, account] %>
            <%= button_to 'Delete', [:admin, account], method: :delete %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%== pagy_nav(@pagy) %>
